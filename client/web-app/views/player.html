<div ng-controller="playerCtrl">
    <div id="playerTop" class="player-top">

        <div class="paid-tv"  ng-if="user.type != 'free'">
            <div class="main-player position-div">
                <div ng-show="watching">
                    <pip-screen info='tv' class="mainUrl" playurl="{{mainUrl}}" channel-logo="{{channelLogo}}" id="screen1"></pip-screen>
                </div>
                <!--<div id="yiptv-player"></div>-->
            </div>
        </div>

        <div class="free-tv" ng-if="user.type ==='free'">
            <div  class="main-player position-div">
                <div ng-show="watching">
                    <pip-screen info='tv' class="mainUrl" playurl="{{mainUrl}}" channel-logo="{{channelLogo}}" id="screen1"></pip-screen>
                </div>
                <!--<div id="yiptv-player"></div>-->
            </div>
            <div class="main-favorites position-div" ng-repeat="promo in promos  | limitTo:1">
                <div access-level="accessLevels.user">
                    <div class="ad-free">
                        <img src="../images/upgrade_360_90.png" width="345px">
                    </div>
                </div>
                <div class="notification" >
                    <img class="img-responsive" ng-src="../images/app-ad-360x270-premium.png" width="350px" height="250px"/>
                </div>
            </div>
        </div> <!-- free-tv -->
    </div>


    <!--<div class="newdescription" ng-init="programDetail = false" ng-show="programDetail">-->
        <!--<div id="programDetail" ng-controller='programDetailSlideCtrl'>-->

            <!--{{program.title}}-->
            <!--{{program.showTime}}-->
            <!--{{program.description}}-->
            <!---->
        <!--</div> &lt;!&ndash;programDetail&ndash;&gt;-->
    <!--</div> &lt;!&ndash;newdescription&ndash;&gt;-->

<!--     <div id="filterPanelDropDown">        </div> -->
<!--     <div id="timeHeaderPanel" style="width:100%;height:28px"> -->
<!--     </div> -->
<!--     <div id="header-time-container"style="width:100%;height:28px;margin-top:5px;float:left;background:rgb(51,51,51);display:inline;overflow-x:auto;overflow-y:hide"> -->
<!--         <div id="header-time-panel"> -->
<!--             <div></div> -->
<!--         </div> -->

<!--     </div> -->
    <div ng-controller="epgCtrl">

        <div id="channelMenuHolder" class="container-fluid">
            <!--         <div id="channelPreviewPanel" class="channel-preview" ng-show="isVisible"> -->
            <!--             <div ng-repeat="listing in showListings track by $index" ng-click="watchNow(selectedChannel, $index)" compile-html="listing"></div> -->
            <!--             <div id="channelGuideLoading" class="progress" ng-show="loadingProgramGuide"> -->
            <!--                 <div class="progress-bar progress-bar-slategrey progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"> -->
            <!--                 </div> -->
            <!--             </div> -->
            <!--         </div> -->

            <div id="menuBar">
                <nav class="navbar navbar-default" role="navigation">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">

                        <button type="button" class="navbar-toggle" ng-init="navCollapsed = true" ng-click="navCollapsed = !navCollapsed">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <div class="pre-channel">
                            <img src="../images/arrow-left.png" width="30px" ng-click="previousChannel()" style="cursor: pointer">
                        </div>

                        <div id="currentChannel" >
                            <img ng-src="{{channelLogo}}">
                        </div>
                        <div class="next-channel">
                            <img src="../images/arrow-right.png" width="30px" height="30px" ng-click="nextChannel()" style="cursor: pointer">
                        </div>

                        <div id="programInfo" ng-init="entiretitle=false; entiredescription=false">
                            <div id="title" ng-mouseover="entiretitle=true" ng-mouseleave="entiretitle=false">{{programTitle}}</div>
                            <div id="description" ng-mouseover="entiredescription=true" ng-mouseleave="entiredescription=false">{{programDescription | limitTo: 50}}{{programDescription.length < 50 ? '' : '...'}}</div>
                            <div class="entire-title" ng-show="entiretitle">{{programTitle}}</div>
                            <div class="entire-description" ng-show="entiredescription">{{programDescription}}</div>
                        </div>
                    </div>

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" ng-class="!navCollapsed && 'in'">

                        <ul class="nav navbar-nav navbar-right">



                            <li ng-hide="mainUrl === undefined || tvProgram === null">
                                <!--<button class="btn btn-default" ng-show="programDetail" ng-click="programDetail = false">Close</button>-->
                                <!--<img src="../images/info.png" width="24px" height="24px" ng-hide="programDetail" ng-click="getShowDetails(); programDetail = true">-->
                                <div id="programDetail" ng-controller='programDetailSlideCtrl'>
                                    <img src="../images/info.png" width="24px" height="24px" ng-click="toggleProgramDetail(); chinfo=true" style="cursor: pointer">


                                    <div id="programDetailSlider" pageslide ps-open="checked" ps-side="top"  >
                                        <div id="programDetailHolder" >

                                            <div id="detailHolder">
                                                <div id="detailTitle">
                                                    <div class="detail-title">
                                                        {{program.title}}
                                                    </div>
                                                </div>
                                                <div id="detailShowTime">
                                                    {{program.showTime}}
                                                </div>
                                                <div id="detailDescription">
                                                    {{program.description}}
                                                </div>
                                            </div>
                                            <div>
                                                <a id="okButton"ng-click="toggleProgramDetail()" class="btn btn-danger btn-xs" >OK</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li ng-hide="mainUrl === undefined">
                                <div id="favorite">
                                    <img src="{{favoriteIcon}}" width="20px" height="20px" ng-click="toggleFavoriteChannel(currentChannel)">
                                </div>
                            </li>


                            <li class="epg-controls" ng-click="displayFavorites(); allCh='no-u'; recCh='';favCh='my-class'">
                                <span class="base-class" ng-class="favCh" translate="PLAYER_MENU_FAVORITE"></span>
                            </li>


                            <li class="epg-controls" ng-click="displayRecent(); favCh=''; allCh='no-u'; recCh='my-class'">
                                <span class="base-class" ng-class="recCh" translate="PLAYER_MENU_RECENT"></span>
                            </li>

                            <li class="epg-controls" ng-click="displayAll();  favCh=''; recCh=''; allCh='high-u'">
                                <span class="base-classU" ng-class="allCh" translate="PLAYER_MENU_ALL"></span>
                            </li>

                            <li class="filter-li">
                                <div id="filter" ng-controller='filterPanelSlideCtrl'>
                                    <img src="../images/filter.png" width="35px" height="35px" ng-click="toggle()">

                                    <div pageslide ps-open="checked" ps-size="360px">
                                        <div id="channelFilterHolder" class="filter-close-btn label label-danger">
                                            <div class="row">
                                                <div>
                                                    <a id="filterClearAll" class="btn btn-danger btn-xs" ng-click="clearAll()" translate="PLAYER_CLEAR_ALL" ></a>
                                                    <a id="filterClose" ng-click="toggle()" class="btn btn-danger btn-xs" translate="PLAYER_CLOSE"></a>
                                                </div>
                                                <div class="channel-filters">
                                                    <div class="channel-filter-categories" >
                                                        <span translate="PLAYER_CATEGORIES"></span>
                                                    </div>
                                                    <div class="panel-group" id="categories" role="tablist" aria-multiselectable="true">
                                                        <div class="panel panel-default filter-categories" >
                                                            <div class="panel-heading" role="tab" id="headingGenre">
                                                                <div class="category-header" ng-click="genreField = !genreField">
                                                                    <span translate="PLAYER_GENRE" role="button" data-toggle="collapse" data-parent="#categories"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="collapseGenre" class="panel-collapse collapse in" ng-hide="genreField">
                                                            <div class="panel-body panel-body-left">
                                                                <div ng-repeat="tag in getTags('Genre') | filter: { col: 0 }" class="filter-repeat">

                                                                    <input name="genreList[]" ng-checked="selectedGenres.indexOf(tag.id) > -1" ng-click="toggleGenreSelection(tag.id)" value="{{tag.id}}" type="checkbox"/>{{tag.name}}

                                                                </div>
                                                            </div>
                                                            <div class="panel-body panel-body-right">
                                                                <div ng-repeat="tag in getTags('Genre') | filter: { col : 1 }" class="filter-repeat">

                                                                    <input name="genreList[]" ng-checked="selectedGenres.indexOf(tag.id) > -1" ng-click="toggleGenreSelection(tag.id)" value="{{tag.id}}" type="checkbox"/>{{tag.name}}

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="panel panel-default filter-categories">
                                                            <div class="panel-heading" role="tab" id="headingRegion">
                                                                <div class="category-header" ng-click="originField = !originField">
                                                                    <span translate="PLAYER_ORIGIN" role="button" data-toggle="collapse" data-parent="#categories"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="collapseRegion" class="panel-collapse collapse in"  ng-hide="originField">
                                                            <div class="panel-body panel-body-left">
                                                                <div ng-repeat="tag in getTags('Origin') | filter: { col: 0 }" class="filter-repeat">

                                                                    <input name="regionList[]" ng-checked="selectedRegions.indexOf(tag.id) > -1" ng-click="toggleRegionSelection(tag.id)" value="{{tag.id}}" type="checkbox"/>{{tag.name}}

                                                                </div>
                                                            </div>
                                                            <div class="panel-body panel-body-right">
                                                                <div ng-repeat="tag in getTags('Origin') | filter: { col : 1 }" class="filter-repeat">

                                                                    <input name="regionList[]" ng-checked="selectedRegions.indexOf(tag.id) > -1" ng-click="toggleRegionSelection(tag.id)" value="{{tag.id}}" type="checkbox"/>{{tag.name}}

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="panel panel-default filter-categories">
                                                            <div class="panel-heading" role="tab" id="headingAudience">
                                                                <div class="category-header" ng-click="audienceField = !audienceField">
                                                                    <span translate="PLAYER_AUDIENCE" role="button" data-toggle="collapse" data-parent="#categories"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="collapseAudience" class="panel-collapse collapse in" ng-hide="audienceField">
                                                            <div class="panel-body panel-body-left">
                                                                <div ng-repeat="tag in getTags('Audience') | filter: { col: 0 }" class="filter-repeat">

                                                                    <input name="AudienceList[]" ng-checked="selectedAudiences.indexOf(tag.id) > -1" ng-click="toggleAudienceSelection(tag.id)" value="{{tag.id}}" type="checkbox"/>{{tag.name}}

                                                                </div>
                                                            </div>
                                                            <div class="panel-body panel-body-right">
                                                                <div ng-repeat="tag in getTags('Audience') | filter: { col : 1 }" class="filter-repeat">

                                                                    <input name="AudienceList[]" ng-checked="selectedAudiences.indexOf(tag.id) > -1" ng-click="toggleAudienceSelection(tag.id)" value="{{tag.id}}" type="checkbox"/>{{tag.name}}

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="panel panel-default filter-categories">
                                                            <div class="panel-heading" role="tab" id="headingLanguage">
                                                                <div class="category-header" ng-click="languageField = !languageField">
                                                                    <span translate="PLAYER_LANGUAGE" role="button" data-toggle="collapse" data-parent="#categories"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="collapseLanguage" class="panel-collapse collapse in" ng-hide="languageField">
                                                            <div class="panel-body panel-body-left">
                                                                <div ng-repeat="tag in getTags('Language') | filter: { col: 0 }" class="filter-repeat">

                                                                    <input name="LanguageList[]" ng-checked="selectedLanguages.indexOf(tag.id) > -1" ng-click="toggleLanguageSelection(tag.id)" value="{{tag.id}}" type="checkbox"/>{{tag.name}}

                                                                </div>
                                                            </div>
                                                            <div class="panel-body panel-body-right">
                                                                <div ng-repeat="tag in getTags('Language') | filter: { col : 1 }" class="filter-repeat">

                                                                    <input name="LanguageList[]" ng-checked="selectedLanguages.indexOf(tag.id) > -1" ng-click="toggleLanguageSelection(tag.id)" value="{{tag.id}}" type="checkbox"/>{{tag.name}}

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>

                        </ul>
                    </div><!-- /.navbar-collapse -->
                </nav>
            </div> <!--menu bar -->
        </div>

        <div id="clock" current-time="" class="position-div"></div>
        <div id="channelTimePanel" class="position-div scrollListener user-guide user-guide-panel">
            <div></div>
            <div id="guideHeader" class="guide-header">
                <ul>
                    <li ng-repeat="time in timeSlots" style="width: 150px;" class="time-module-item">{{time}}</li>
                </ul>
            </div>
        </div>
        <div>
            <div id="logoColumn" class="user-guide-panel">
                <div class="position-div user-guide">
                    <div id="channelLogoPanel">
                        <div></div>
                        <div id="channelGuideDescription" ng-repeat="logo in logos" class="channel-description">
                            <div id="channelGuideLogo" title="{{logo.channelTitle}}" style="cursor: pointer; background: #FFF url({{logo.logo}}) 50% no-repeat; background-size:contain "></div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="userGuide" class="user-guide-panel">
                <div class="position-div user-guide">
                    <div id="channelGuidePanel" class="user-guide-description">
                        <div></div>
                        <div id="channelGuideDescription" ng-repeat="programs in programming" class="channel-description">
                            <div style="width: 154px; height: 60px;"></div>
                            <div ng-repeat="show in programs.lineUp" ng-if="$index === 0" ng-click="watchNow(programs.chIndex, favoriteChannels, this); gotoTop();" title="{{show.dropdownInfo}}" style="cursor: pointer; width: {{show.length*5}}px; border-right: 1px solid #000033">
                                <p style="text-align: left;"><span class="channel-details-body">{{show.title}}</span></p>
                                <p style="text-align: left;"><span class="channel-details-body">{{show.startHour + " - " + show.endHour}}</span></p>
                            </div>
                            <div ng-repeat="show in programs.lineUp" ng-if="$index &gt; 0" title="{{show.dropdownInfo}}" style="cursor: pointer; width: {{show.length*5}}px; border-right: 1px solid #000033">
                                <p style="text-align: left;"><span class="channel-details-body">{{show.title}}</span></p>
                                <p style="text-align: left;"><span class="channel-details-body">{{show.startHour + " - " + show.endHour}}</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!--     <div id="userGuide" class="user-guide-panel" style="background:rgb(210,210,210)" ng-controller='channelGuideCtrl'> -->
<!--         <div class='position-div user-guide'> -->
<!--             <div id='channelGuidePanel' class='user-guide-description'> -->
<!--                 <div></div> -->
<!--             </div> -->
<!--         </div> -->
<!--     </div> -->

</div>



